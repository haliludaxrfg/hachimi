[2025-10-12 21:53:39][INFO] UserWindow::onAddToCart CLTaddToCart returned true
[2025-10-12 21:53:40][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 21:53:40][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 21:53:40][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":10292.0,"is_converted":false,"items":[{"good_id":6,"good_name":"野火哈基米","price":66.4,"quantity":155,"subtotal":10292.0}],"shipping_address":"","total_amount":10292.0,"user_phone":"17708659389"}
[2025-10-12 21:53:40][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=1
[2025-10-12 21:53:40][INFO] CLTgetCartForUser: item[0] good_id=6, name=野火哈基米, price=66.400000, qty=155, subtotal=10292.000000
[2025-10-12 21:53:40][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=1
[2025-10-12 21:53:40][INFO] UserWindow::refreshCart: item 0 good_id=6, name=野火哈基米, qty=155, subtotal=10292.000000
[2025-10-12 21:53:45][INFO] UserWindow::onAddToCart params: phone=17708659389, goodId=5, name=ikun, price=2.500000, qty=99
[2025-10-12 21:53:45][INFO] UserWindow::onAddToCart CLTaddToCart returned true
[2025-10-12 21:53:46][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 21:53:46][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 21:53:47][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":10539.5,"is_converted":false,"items":[{"good_id":6,"good_name":"野火哈基米","price":66.4,"quantity":155,"subtotal":10292.0},{"good_id":5,"good_name":"ikun","price":2.5,"quantity":99,"subtotal":247.5}],"shipping_address":"","total_amount":10539.5,"user_phone":"17708659389"}
[2025-10-12 21:53:47][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=2
[2025-10-12 21:53:47][INFO] CLTgetCartForUser: item[0] good_id=6, name=野火哈基米, price=66.400000, qty=155, subtotal=10292.000000
[2025-10-12 21:53:47][INFO] CLTgetCartForUser: item[1] good_id=5, name=ikun, price=2.500000, qty=99, subtotal=247.500000
[2025-10-12 21:53:47][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=2
[2025-10-12 21:53:47][INFO] UserWindow::refreshCart: item 0 good_id=6, name=野火哈基米, qty=155, subtotal=10292.000000
[2025-10-12 21:53:47][INFO] UserWindow::refreshCart: item 1 good_id=5, name=ikun, qty=99, subtotal=247.500000
[2025-10-12 21:53:51][INFO] UserWindow::onAddToCart params: phone=17708659389, goodId=4, name=dingdongji, price=8.110000, qty=250
[2025-10-12 21:53:51][INFO] UserWindow::onAddToCart CLTaddToCart returned true
[2025-10-12 21:53:52][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 21:53:52][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 21:53:53][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":12567.0,"is_converted":false,"items":[{"good_id":6,"good_name":"野火哈基米","price":66.4,"quantity":155,"subtotal":10292.0},{"good_id":5,"good_name":"ikun","price":2.5,"quantity":99,"subtotal":247.5},{"good_id":4,"good_name":"dingdongji","price":8.11,"quantity":250,"subtotal":2027.5}],"shipping_address":"","total_amount":12567.0,"user_phone":"17708659389"}
[2025-10-12 21:53:53][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=3
[2025-10-12 21:53:53][INFO] CLTgetCartForUser: item[0] good_id=6, name=野火哈基米, price=66.400000, qty=155, subtotal=10292.000000
[2025-10-12 21:53:53][INFO] CLTgetCartForUser: item[1] good_id=5, name=ikun, price=2.500000, qty=99, subtotal=247.500000
[2025-10-12 21:53:53][INFO] CLTgetCartForUser: item[2] good_id=4, name=dingdongji, price=8.110000, qty=250, subtotal=2027.500000
[2025-10-12 21:53:53][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=3
[2025-10-12 21:53:53][INFO] UserWindow::refreshCart: item 0 good_id=6, name=野火哈基米, qty=155, subtotal=10292.000000
[2025-10-12 21:53:53][INFO] UserWindow::refreshCart: item 1 good_id=5, name=ikun, qty=99, subtotal=247.500000
[2025-10-12 21:53:53][INFO] UserWindow::refreshCart: item 2 good_id=4, name=dingdongji, qty=250, subtotal=2027.500000
[2025-10-12 21:53:54][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 21:53:55][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":12567.0,"is_converted":false,"items":[{"good_id":6,"good_name":"野火哈基米","price":66.4,"quantity":155,"subtotal":10292.0},{"good_id":5,"good_name":"ikun","price":2.5,"quantity":99,"subtotal":247.5},{"good_id":4,"good_name":"dingdongji","price":8.11,"quantity":250,"subtotal":2027.5}],"shipping_address":"","total_amount":12567.0,"user_phone":"17708659389"}
[2025-10-12 21:53:55][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=3
[2025-10-12 21:53:55][INFO] CLTgetCartForUser: item[0] good_id=6, name=野火哈基米, price=66.400000, qty=155, subtotal=10292.000000
[2025-10-12 21:53:55][INFO] CLTgetCartForUser: item[1] good_id=5, name=ikun, price=2.500000, qty=99, subtotal=247.500000
[2025-10-12 21:53:55][INFO] CLTgetCartForUser: item[2] good_id=4, name=dingdongji, price=8.110000, qty=250, subtotal=2027.500000
[2025-10-12 21:53:55][INFO] UserWindow::onCheckout: sending ADD_SETTLED_ORDER for orderId=o1760277235089_ed70cb3d userPhone=17708659389
[2025-10-12 21:53:55][INFO] CLTaddSettledOrder: request: ADD_SETTLED_ORDER {"discountPolicy":"","items":[{"price":66.4,"productId":6,"productName":"野火哈基米","quantity":155,"subtotal":10292.0},{"price":2.5,"productId":5,"productName":"ikun","quantity":99,"subtotal":247.5[2025-10-12 22:02:06][INFO] 应用启动
[2025-10-12 22:02:06][INFO] Server: DatabaseManager 已连接。
[2025-10-12 22:02:06][INFO] 本地 Server 已启动 (127.0.0.1:8888)
[2025-10-12 22:02:06][INFO] Client 已连接到 Server
[2025-10-12 22:02:07][INFO] DatabaseManager::connect() called.

[2025-10-12 22:02:07][INFO] 已从数据库刷新用户列表用于登录对话框
[2025-10-12 22:02:16][INFO] 用户登录成功，手机号: 17708659389
[2025-10-12 22:02:17][INFO] Server 收到请求: GET_ALL_GOODS
[2025-10-12 22:02:17][INFO] Server SERgetAllGoods: dbManager ptr = 1422161420272, DTBisConnected=true
[2025-10-12 22:02:17][INFO] DTBloadAllGoods: this=0000014B1F6D1FF0 connection_=0000014B1F7593F0 Query="SELECT id, name, price, stock, category FROM good"

[2025-10-12 22:02:17][INFO] DTBloadAllGoods: mysql_num_rows = 6

[2025-10-12 22:02:17][INFO] Server SERgetAllGoods: 返回JSON内容: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":1075},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114514},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","id":6,"name":"野火哈基米","price":66.4,"stock":289},{"category":"ji","id":7,"name":"ハチミ","price":78.0,"stock":181}]
[2025-10-12 22:02:17][INFO] Server SERgetAllGoods: 查询到 6 个商品
[2025-10-12 22:02:17][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 22:02:17][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:02:17][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":0.0,"is_converted":false,"items":[],"shipping_address":"","total_amount":0.0,"user_phone":"17708659389"}
[2025-10-12 22:02:17][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=0
[2025-10-12 22:02:17][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=0
[2025-10-12 22:02:18][INFO] Server 收到请求: GET_ALL_ACCOUNTS
[2025-10-12 22:02:31][INFO] UserWindow::onAddToCart params: phone=17708659389, goodId=7, name=ハチミ, price=78.000000, qty=13
[2025-10-12 22:02:31][INFO] UserWindow::onAddToCart CLTaddToCart returned true
[2025-10-12 22:02:32][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 22:02:32][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:02:33][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":1014.0,"is_converted":false,"items":[{"good_id":7,"good_name":"ハチミ","price":78.0,"quantity":13,"subtotal":1014.0}],"shipping_address":"","total_amount":1014.0,"user_phone":"17708659389"}
[2025-10-12 22:02:33][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=1
[2025-10-12 22:02:33][INFO] CLTgetCartForUser: item[0] good_id=7, name=ハチミ, price=78.000000, qty=13, subtotal=1014.000000
[2025-10-12 22:02:33][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=1
[2025-10-12 22:02:33][INFO] UserWindow::refreshCart: item 0 good_id=7, name=ハチミ, qty=13, subtotal=1014.000000
[2025-10-12 22:02:36][INFO] UserWindow::onAddToCart params: phone=17708659389, goodId=6, name=野火哈基米, price=66.400000, qty=2
[2025-10-12 22:02:37][INFO] UserWindow::onAddToCart CLTaddToCart returned true
[2025-10-12 22:02:37][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 22:02:37][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:02:38][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":1146.8,"is_converted":false,"items":[{"good_id":7,"good_name":"ハチミ","price":78.0,"quantity":13,"subtotal":1014.0},{"good_id":6,"good_name":"野火哈基米","price":66.4,"quantity":2,"subtotal":132.8}],"shipping_address":"","total_amount":1146.8,"user_phone":"17708659389"}
[2025-10-12 22:02:38][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=2
[2025-10-12 22:02:38][INFO] CLTgetCartForUser: item[0] good_id=7, name=ハチミ, price=78.000000, qty=13, subtotal=1014.000000
[2025-10-12 22:02:38][INFO] CLTgetCartForUser: item[1] good_id=6, name=野火哈基米, price=66.400000, qty=2, subtotal=132.800000
[2025-10-12 22:02:38][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=2
[2025-10-12 22:02:38][INFO] UserWindow::refreshCart: item 0 good_id=7, name=ハチミ, qty=13, subtotal=1014.000000
[2025-10-12 22:02:38][INFO] UserWindow::refreshCart: item 1 good_id=6, name=野火哈基米, qty=2, subtotal=132.800000
[2025-10-12 22:02:42][INFO] UserWindow::onAddToCart params: phone=17708659389, goodId=1, name=hyw, price=9.990000, qty=91
[2025-10-12 22:02:43][INFO] UserWindow::onAddToCart CLTaddToCart returned true
[2025-10-12 22:02:44][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 22:02:44][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:02:44][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":2055.89,"is_converted":false,"items":[{"good_id":7,"good_name":"ハチミ","price":78.0,"quantity":13,"subtotal":1014.0},{"good_id":6,"good_name":"野火哈基米","price":66.4,"quantity":2,"subtotal":132.8},{"good_id":1,"good_name":"hyw","price":9.99,"quantity":91,"subtotal":909.09}],"shipping_address":"","total_amount":2055.89,"user_phone":"17708659389"}
[2025-10-12 22:02:44][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=3
[2025-10-12 22:02:44][INFO] CLTgetCartForUser: item[0] good_id=7, name=ハチミ, price=78.000000, qty=13, subtotal=1014.000000
[2025-10-12 22:02:44][INFO] CLTgetCartForUser: item[1] good_id=6, name=野火哈基米, price=66.400000, qty=2, subtotal=132.800000
[2025-10-12 22:02:44][INFO] CLTgetCartForUser: item[2] good_id=1, name=hyw, price=9.990000, qty=91, subtotal=909.090000
[2025-10-12 22:02:44][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=3
[2025-10-12 22:02:44][INFO] UserWindow::refreshCart: item 0 good_id=7, name=ハチミ, qty=13, subtotal=1014.000000
[2025-10-12 22:02:44][INFO] UserWindow::refreshCart: item 1 good_id=6, name=野火哈基米, qty=2, subtotal=132.800000
[2025-10-12 22:02:44][INFO] UserWindow::refreshCart: item 2 good_id=1, name=hyw, qty=91, subtotal=909.090000
[2025-10-12 22:02:48][INFO] UserWindow::onAddToCart params: phone=17708659389, goodId=2, name=manbo, price=28.880000, qty=141
[2025-10-12 22:02:48][INFO] UserWindow::onAddToCart CLTaddToCart returned true
[2025-10-12 22:02:49][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 22:02:49][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:02:50][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":6127.97,"is_converted":false,"items":[{"good_id":7,"good_name":"ハチミ","price":78.0,"quantity":13,"subtotal":1014.0},{"good_id":6,"good_name":"野火哈基米","price":66.4,"quantity":2,"subtotal":132.8},{"good_id":1,"good_name":"hyw","price":9.99,"quantity":91,"subtotal":909.09},{"good_id":2,"good_name":"manbo","price":28.88,"quantity":141,"subtotal":4072.08}],"shipping_address":"","total_amount":6127.97,"user_phone":"17708659389"}
[2025-10-12 22:02:50][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=4
[2025-10-12 22:02:50][INFO] CLTgetCartForUser: item[0] good_id=7, name=ハチミ, price=78.000000, qty=13, subtotal=1014.000000
[2025-10-12 22:02:50][INFO] CLTgetCartForUser: item[1] good_id=6, name=野火哈基米, price=66.400000, qty=2, subtotal=132.800000
[2025-10-12 22:02:50][INFO] CLTgetCartForUser: item[2] good_id=1, name=hyw, price=9.990000, qty=91, subtotal=909.090000
[2025-10-12 22:02:50][INFO] CLTgetCartForUser: item[3] good_id=2, name=manbo, price=28.880000, qty=141, subtotal=4072.080000
[2025-10-12 22:02:50][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=4
[2025-10-12 22:02:50][INFO] UserWindow::refreshCart: item 0 good_id=7, name=ハチミ, qty=13, subtotal=1014.000000
[2025-10-12 22:02:50][INFO] UserWindow::refreshCart: item 1 good_id=6, name=野火哈基米, qty=2, subtotal=132.800000
[2025-10-12 22:02:50][INFO] UserWindow::refreshCart: item 2 good_id=1, name=hyw, qty=91, subtotal=909.090000
[2025-10-12 22:02:50][INFO] UserWindow::refreshCart: item 3 good_id=2, name=manbo, qty=141, subtotal=4072.080000
[2025-10-12 22:02:53][INFO] UserWindow::onModifyCartItem called
[2025-10-12 22:02:53][INFO] UserWindow::onModifyCartItem: selected productId=6, currentQty=2
[2025-10-12 22:02:55][INFO] UserWindow::onModifyCartItem: requested newQty=3
[2025-10-12 22:02:55][INFO] UserWindow::onModifyCartItem: attempt update productId=6, newQty=3, attempt=1
[2025-10-12 22:02:55][INFO] Server SERupdateCartItem: request userPhone=17708659389, productId=6, quantity=3
[2025-10-12 22:02:56][INFO] UserWindow::onModifyCartItem CLTupdateCartItem returned true
[2025-10-12 22:02:56][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 22:02:56][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:02:57][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":6194.37,"is_converted":false,"items":[{"good_id":7,"good_name":"ハチミ","price":78.0,"quantity":13,"subtotal":1014.0},{"good_id":6,"good_name":"野火哈基米","price":66.4,"quantity":3,"subtotal":199.2},{"good_id":1,"good_name":"hyw","price":9.99,"quantity":91,"subtotal":909.09},{"good_id":2,"good_name":"manbo","price":28.88,"quantity":141,"subtotal":4072.08}],"shipping_address":"","total_amount":6194.37,"user_phone":"17708659389"}
[2025-10-12 22:02:57][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=4
[2025-10-12 22:02:57][INFO] CLTgetCartForUser: item[0] good_id=7, name=ハチミ, price=78.000000, qty=13, subtotal=1014.000000
[2025-10-12 22:02:57][INFO] CLTgetCartForUser: item[1] good_id=6, name=野火哈基米, price=66.400000, qty=3, subtotal=199.200000
[2025-10-12 22:02:57][INFO] CLTgetCartForUser: item[2] good_id=1, name=hyw, price=9.990000, qty=91, subtotal=909.090000
[2025-10-12 22:02:57][INFO] CLTgetCartForUser: item[3] good_id=2, name=manbo, price=28.880000, qty=141, subtotal=4072.080000
[2025-10-12 22:02:57][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=4
[2025-10-12 22:02:57][INFO] UserWindow::refreshCart: item 0 good_id=7, name=ハチミ, qty=13, subtotal=1014.000000
[2025-10-12 22:02:57][INFO] UserWindow::refreshCart: item 1 good_id=6, name=野火哈基米, qty=3, subtotal=199.200000
[2025-10-12 22:02:57][INFO] UserWindow::refreshCart: item 2 good_id=1, name=hyw, qty=91, subtotal=909.090000
[2025-10-12 22:02:57][INFO] UserWindow::refreshCart: item 3 good_id=2, name=manbo, qty=141, subtotal=4072.080000
[2025-10-12 22:02:58][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:02:58][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":6194.37,"is_converted":false,"items":[{"good_id":7,"good_name":"ハチミ","price":78.0,"quantity":13,"subtotal":1014.0},{"good_id":6,"good_name":"野火哈基米","price":66.4,"quantity":3,"subtotal":199.2},{"good_id":1,"good_name":"hyw","price":9.99,"quantity":91,"subtotal":909.09},{"good_id":2,"good_name":"manbo","price":28.88,"quantity":141,"subtotal":4072.08}],"shipping_address":"","total_amount":6194.37,"user_phone":"17708659389"}
[2025-10-12 22:02:58][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=4
[2025-10-12 22:02:58][INFO] CLTgetCartForUser: item[0] good_id=7, name=ハチミ, price=78.000000, qty=13, subtotal=1014.000000
[2025-10-12 22:02:58][INFO] CLTgetCartForUser: item[1] good_id=6, name=野火哈基米, price=66.400000, qty=3, subtotal=199.200000
[2025-10-12 22:02:58][INFO] CLTgetCartForUser: item[2] good_id=1, name=hyw, price=9.990000, qty=91, subtotal=909.090000
[2025-10-12 22:02:58][INFO] CLTgetCartForUser: item[3] good_id=2, name=manbo, price=28.880000, qty=141, subtotal=4072.080000
[2025-10-12 22:02:58][INFO] UserWindow::onCheckout: sending ADD_SETTLED_ORDER for orderId=o1760277778542_7cd3258d userPhone=17708659389
[2025-10-12 22:02:58][INFO] CLTaddSettledOrder: request: ADD_SETTLED_ORDER {"discountPolicy":"","items":[{"price":78.0,"productId":7,"productName":"ハチミ","quantity":13,"subtotal":1014.0},{"price":66.4,"productId":6,"productName":"野火哈基米","quantity":3,"subtotal":199.2},{"price":9.99,"productId":1,"productName":"hyw","quantity":91,"subtotal":909.09},{"price":28.88,"productId":2,"productName":"manbo","quantity":141,"subtotal":4072.08}],"orderId":"o1760277778542_7cd3258d","status":1,"userPhone":"17708659389"}
[2025-10-12 22:02:58][INFO] Server SERaddSettledOrder: 减库存 good_id=7 -> 168
[2025-10-12 22:02:58][INFO] Server SERaddSettledOrder: 减库存 good_id=6 -> 286
[2025-10-12 22:02:58][INFO] Server SERaddSettledOrder: 减库存 good_id=1 -> 984
[2025-10-12 22:02:58][INFO] Server SERaddSettledOrder: 减库存 good_id=2 -> 114373
[2025-10-12 22:02:58][INFO] CLTaddSettledOrder: raw response: {"order_id":"o1760277778542_7cd3258d","result":"added"}
[2025-10-12 22:02:58][INFO] UserWindow::onCheckout: CLTaddSettledOrder returned true
[2025-10-12 22:03:00][INFO] Server SERremoveFromCart: request userPhone=17708659389, productId=7
[2025-10-12 22:03:00][INFO] Server SERremoveFromCart: removed productId=7
[2025-10-12 22:03:00][INFO] Server SERremoveFromCart: request userPhone=17708659389, productId=6
[2025-10-12 22:03:00][INFO] Server SERremoveFromCart: removed productId=6
[2025-10-12 22:03:00][INFO] Server SERremoveFromCart: request userPhone=17708659389, productId=1
[2025-10-12 22:03:00][INFO] Server SERremoveFromCart: removed productId=1
[2025-10-12 22:03:01][INFO] Server SERremoveFromCart: request userPhone=17708659389, productId=2
[2025-10-12 22:03:01][INFO] Server SERremoveFromCart: removed productId=2
[2025-10-12 22:03:01][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 22:03:01][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:03:01][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":0.0,"is_converted":false,"items":[],"shipping_address":"","total_amount":0.0,"user_phone":"17708659389"}
[2025-10-12 22:03:01][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=0
[2025-10-12 22:03:01][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=0
[2025-10-12 22:03:54][INFO] Server 收到请求: GET_ALL_GOODS
[2025-10-12 22:03:54][INFO] Server SERgetAllGoods: dbManager ptr = 1422161420272, DTBisConnected=true
[2025-10-12 22:03:54][INFO] DTBloadAllGoods: this=0000014B1F6D1FF0 connection_=0000014B1F7593F0 Query="SELECT id, name, price, stock, category FROM good"

[2025-10-12 22:03:54][INFO] DTBloadAllGoods: mysql_num_rows = 6

[2025-10-12 22:03:54][INFO] Server SERgetAllGoods: 返回JSON内容: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":984},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114373},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","id":6,"name":"野火哈基米","price":66.4,"stock":286},{"category":"ji","id":7,"name":"ハチミ","price":78.0,"stock":168}]
[2025-10-12 22:03:54][INFO] Server SERgetAllGoods: 查询到 6 个商品
[2025-10-12 22:04:01][INFO] UserWindow::onAddToCart params: phone=17708659389, goodId=7, name=ハチミ, price=78.000000, qty=168
[2025-10-12 22:04:02][INFO] UserWindow::onAddToCart CLTaddToCart returned true
[2025-10-12 22:04:02][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 22:04:02][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:04:03][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":13104.0,"is_converted":false,"items":[{"good_id":7,"good_name":"ハチミ","price":78.0,"quantity":168,"subtotal":13104.0}],"shipping_address":"","total_amount":13104.0,"user_phone":"17708659389"}
[2025-10-12 22:04:03][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=1
[2025-10-12 22:04:03][INFO] CLTgetCartForUser: item[0] good_id=7, name=ハチミ, price=78.000000, qty=168, subtotal=13104.000000
[2025-10-12 22:04:03][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=1
[2025-10-12 22:04:03][INFO] UserWindow::refreshCart: item 0 good_id=7, name=ハチミ, qty=168, subtotal=13104.000000
[2025-10-12 22:04:04][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:04:05][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":13104.0,"is_converted":false,"items":[{"good_id":7,"good_name":"ハチミ","price":78.0,"quantity":168,"subtotal":13104.0}],"shipping_address":"","total_amount":13104.0,"user_phone":"17708659389"}
[2025-10-12 22:04:05][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=1
[2025-10-12 22:04:05][INFO] CLTgetCartForUser: item[0] good_id=7, name=ハチミ, price=78.000000, qty=168, subtotal=13104.000000
[2025-10-12 22:04:05][INFO] UserWindow::onCheckout: sending ADD_SETTLED_ORDER for orderId=o1760277845018_4d6f7f80 userPhone=17708659389
[2025-10-12 22:04:05][INFO] CLTaddSettledOrder: request: ADD_SETTLED_ORDER {"discountPolicy":"","items":[{"price":78.0,"productId":7,"productName":"ハチミ","quantity":168,"subtotal":13104.0}],"orderId":"o1760277845018_4d6f7f80","status":1,"userPhone":"17708659389"}
[2025-10-12 22:04:05][INFO] Server SERaddSettledOrder: 减库存 good_id=7 -> 0
[2025-10-12 22:04:05][INFO] CLTaddSettledOrder: raw response: {"order_id":"o1760277845018_4d6f7f80","result":"added"}
[2025-10-12 22:04:05][INFO] UserWindow::onCheckout: CLTaddSettledOrder returned true
[2025-10-12 22:04:09][INFO] Server SERremoveFromCart: request userPhone=17708659389, productId=7
[2025-10-12 22:04:09][INFO] Server SERremoveFromCart: removed productId=7
[2025-10-12 22:04:09][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 22:04:09][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:04:10][INFO] Server 收到请求: GET_ALL_GOODS
[2025-10-12 22:04:10][INFO] Server SERgetAllGoods: dbManager ptr = 1422161420272, DTBisConnected=true
[2025-10-12 22:04:10][INFO] DTBloadAllGoods: this=0000014B1F6D1FF0 connection_=0000014B1F7593F0 Query="SELECT id, name, price, stock, category FROM good"

[2025-10-12 22:04:10][INFO] DTBloadAllGoods: mysql_num_rows = 6

[2025-10-12 22:04:10][INFO] Server SERgetAllGoods: 返回JSON内容: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":984},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114373},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","id":6,"name":"野火哈基米","price":66.4,"stock":286},{"category":"ji","id":7,"name":"ハチミ","price":78.0,"stock":0}]
[2025-10-12 22:04:10][INFO] Server SERgetAllGoods: 查询到 6 个商品
[2025-10-12 22:04:10][INFO] CLTgetCartForUser: raw response: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":984},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114373},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","id":6,"name":"野火哈基米","price":66.4,"stock":286},{"category":"ji","id":7,"name":"ハチミ","price":78.0,"stock":0}]
[2025-10-12 22:04:10][FAIL] CLTgetCartForUser 解析失败: [json.exception.type_error.306] cannot use value() with array
[2025-10-12 22:04:[2025-10-12 22:12:46][INFO] 应用启动
[2025-10-12 22:12:46][INFO] Server: DatabaseManager 已连接。
[2025-10-12 22:12:46][INFO] 本地 Server 已启动 (127.0.0.1:8888)
[2025-10-12 22:12:46][INFO] Client 已连接到 Server
[2025-10-12 22:12:46][INFO] DatabaseManager::connect() called.

[2025-10-12 22:12:46][INFO] 已从数据库刷新用户列表用于登录对话框
[2025-10-12 22:12:58][FAIL] LOGIN 返回错误: {"error":"密码错误"}
[2025-10-12 22:13:02][FAIL] LOGIN 返回错误: {"error":"密码错误"}
[2025-10-12 22:13:04][FAIL] LOGIN 返回错误: {"error":"密码错误"}
[2025-10-12 22:13:09][INFO] 用户登录成功，手机号: 17708659389
[2025-10-12 22:13:09][INFO] Server 收到请求: GET_ALL_GOODS
[2025-10-12 22:13:09][INFO] Server SERgetAllGoods: dbManager ptr = 1765537337536, DTBisConnected=true
[2025-10-12 22:13:09][INFO] DTBloadAllGoods: this=0000019B1239D0C0 connection_=0000019B1241B5C0 Query="SELECT id, name, price, stock, category FROM good"

[2025-10-12 22:13:09][INFO] DTBloadAllGoods: mysql_num_rows = 6

[2025-10-12 22:13:09][INFO] Server SERgetAllGoods: 返回JSON内容: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":984},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114373},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","id":6,"name":"野火哈基米","price":66.4,"stock":286},{"category":"ji","id":7,"name":"ハチミ","price":78.0,"stock":0}]
[2025-10-12 22:13:09][INFO] Server SERgetAllGoods: 查询到 6 个商品
[2025-10-12 22:13:09][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 22:13:09][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:13:10][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":0.0,"is_converted":false,"items":[],"shipping_address":"","total_amount":0.0,"user_phone":"17708659389"}
[2025-10-12 22:13:10][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=0
[2025-10-12 22:13:10][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=0
[2025-10-12 22:13:10][INFO] Server 收到请求: GET_ALL_ACCOUNTS
[2025-10-12 22:13:37][INFO] UserWindow::onAddToCart params: phone=17708659389, goodId=6, name=野火哈基米, price=66.400000, qty=8
[2025-10-12 22:13:38][INFO] UserWindow::onAddToCart CLTaddToCart returned true
[2025-10-12 22:13:39][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 22:13:39][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:13:39][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":531.2,"is_converted":false,"items":[{"good_id":6,"good_name":"野火哈基米","price":66.4,"quantity":8,"subtotal":531.2}],"shipping_address":"","total_amount":531.2,"user_phone":"17708659389"}
[2025-10-12 22:13:39][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=1
[2025-10-12 22:13:39][INFO] CLTgetCartForUser: item[0] good_id=6, name=野火哈基米, price=66.400000, qty=8, subtotal=531.200000
[2025-10-12 22:13:39][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=1
[2025-10-12 22:13:39][INFO] UserWindow::refreshCart: item 0 good_id=6, name=野火哈基米, qty=8, subtotal=531.200000
[2025-10-12 22:13:41][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:13:41][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":531.2,"is_converted":false,"items":[{"good_id":6,"good_name":"野火哈基米","price":66.4,"quantity":8,"subtotal":531.2}],"shipping_address":"","total_amount":531.2,"user_phone":"17708659389"}
[2025-10-12 22:13:41][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=1
[2025-10-12 22:13:41][INFO] CLTgetCartForUser: item[0] good_id=6, name=野火哈基米, price=66.400000, qty=8, subtotal=531.200000
[2025-10-12 22:13:41][INFO] UserWindow::onCheckout: sending ADD_SETTLED_ORDER for orderId=o1760278421449_8022398a userPhone=17708659389
[2025-10-12 22:13:41][INFO] CLTaddSettledOrder: request: ADD_SETTLED_ORDER {"discountPolicy":"","items":[{"price":66.4,"productId":6,"productName":"野火哈基米","quantity":8,"subtotal":531.2}],"orderId":"o1760278421449_8022398a","status":1,"userPhone":"17708659389"}
[2025-10-12 22:13:41][INFO] Server SERaddSettledOrder: 减库存 good_id=6 -> 278
[2025-10-12 22:13:41][INFO] CLTaddSettledOrder: raw response: {"order_id":"o1760278421449_8022398a","result":"added"}
[2025-10-12 22:13:41][INFO] UserWindow::onCheckout: CLTaddSettledOrder returned true
[2025-10-12 22:13:43][INFO] Server SERremoveFromCart: request userPhone=17708659389, productId=6
[2025-10-12 22:13:43][INFO] Server SERremoveFromCart: removed productId=6
[2025-10-12 22:13:43][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 22:13:43][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:13:43][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":0.0,"is_converted":false,"items":[],"shipping_address":"","total_amount":0.0,"user_phone":"17708659389"}
[2025-10-12 22:13:43][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=0
[2025-10-12 22:13:43][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=0
[2025-10-12 22:14:06][INFO] Server SERdeleteSettledOrder: deleted order c1760229692248_44fe7ebe71b0aabe
[2025-10-12 22:14:11][INFO] Server SERrepairSettledOrder: set status to REPAIR for order o1760276630056_16d52686
[2025-10-12 22:14:15][INFO] Server SERreturnSettledOrder: 恢复库存 good_id=7 -> 100
[2025-10-12 22:14:15][INFO] Server SERreturnSettledOrder: set status to RETURNED for order o1760276650335_be1040b6
[2025-10-12 22:14:22][INFO] UserWindow::onReturnToIdentitySelection called
[2025-10-12 22:14:22][INFO] 收到 UserWindow::backRequested，返回登录界面
[2025-10-12 22:14:22][INFO] 已从数据库刷新用户列表用于登录对话框
[2025-10-12 22:14:27][INFO] 管理员登录成功，打开管理员窗口
[2025-10-12 22:14:27][INFO] Server 收到请求: GET_ALL_ACCOUNTS
[2025-10-12 22:14:28][INFO] Server 收到请求: GET_ALL_GOODS
[2025-10-12 22:14:28][INFO] Server SERgetAllGoods: dbManager ptr = 1765537337536, DTBisConnected=true
[2025-10-12 22:14:28][INFO] DTBloadAllGoods: this=0000019B1239D0C0 connection_=0000019B1241B5C0 Query="SELECT id, name, price, stock, category FROM good"

[2025-10-12 22:14:28][INFO] DTBloadAllGoods: mysql_num_rows = 6

[2025-10-12 22:14:28][INFO] Server SERgetAllGoods: 返回JSON内容: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":984},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114373},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","id":6,"name":"野火哈基米","price":66.4,"stock":278},{"category":"ji","id":7,"name":"ハチミ","price":78.0,"stock":100}]
[2025-10-12 22:14:28][INFO] Server SERgetAllGoods: 查询到 6 个商品
[2025-10-12 22:14:42][INFO] Server 收到请求: GET_ALL_GOODS
[2025-10-12 22:14:42][INFO] Server SERgetAllGoods: dbManager ptr = 1765537337536, DTBisConnected=true
[2025-10-12 22:14:42][INFO] DTBloadAllGoods: this=0000019B1239D0C0 connection_=0000019B1241B5C0 Query="SELECT id, name, price, stock, category FROM good"

[2025-10-12 22:14:42][INFO] DTBloadAllGoods: mysql_num_rows = 6

[2025-10-12 22:14:42][INFO] Server SERgetAllGoods: 返回JSON内容: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":984},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114373},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","[2025-10-12 22:43:48][INFO] 应用启动
[2025-10-12 22:43:49][INFO] Server: DatabaseManager 已连接。
[2025-10-12 22:43:49][INFO] 本地 Server 已启动 (127.0.0.1:8888)
[2025-10-12 22:43:49][INFO] Client 已连接到 Server
[2025-10-12 22:43:49][INFO] DatabaseManager::connect() called.

[2025-10-12 22:43:49][INFO] 已从数据库刷新用户列表用于登录对话框
[2025-10-12 22:43:59][INFO] 管理员登录成功，打开管理员窗口
[2025-10-12 22:43:59][INFO] Server 收到请求: GET_ALL_ACCOUNTS
[2025-10-12 22:43:59][INFO] Server 收到请求: GET_ALL_GOODS
[2025-10-12 22:43:59][INFO] Server SERgetAllGoods: dbManager ptr = 2302921988912, DTBisConnected=true
[2025-10-12 22:43:59][INFO] DTBloadAllGoods: this=0000021830D8DB30 connection_=0000021830E2B440 Query="SELECT id, name, price, stock, category FROM good"

[2025-10-12 22:43:59][INFO] DTBloadAllGoods: mysql_num_rows = 6

[2025-10-12 22:43:59][INFO] Server SERgetAllGoods: 返回JSON内容: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":984},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114373},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","id":6,"name":"野火哈基米","price":66.4,"stock":278},{"category":"ji","id":7,"name":"ハチミ","price":78.0,"stock":199}]
[2025-10-12 22:43:59][INFO] Server SERgetAllGoods: 查询到 6 个商品
[2025-10-12 22:44:33][INFO] Server 收到请求: GET_ALL_GOODS
[2025-10-12 22:44:33][INFO] Server SERgetAllGoods: dbManager ptr = 2302921988912, DTBisConnected=true
[2025-10-12 22:44:33][INFO] DTBloadAllGoods: this=0000021830D8DB30 connection_=0000021830E2B440 Query="SELECT id, name, price, stock, category FROM good"

[2025-10-12 22:44:33][INFO] DTBloadAllGoods: mysql_num_rows = 6

[2025-10-12 22:44:33][INFO] Server SERgetAllGoods: 返回JSON内容: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":984},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114373},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","id":6,"name":"野火哈基米","price":66.4,"stock":278},{"category":"ji","id":7,"name":"ハチミ","price":78.0,"stock":199}]
[2025-10-12 22:44:33][INFO] Server SERgetAllGoods: 查询到 6 个商品
[2025-10-12 22:48:47][INFO] 应用启动
[2025-10-12 22:48:47][INFO] Server: DatabaseManager 已连接。
[2025-10-12 22:48:47][INFO] 本地 Server 已启动 (127.0.0.1:8888)
[2025-10-12 22:48:47][INFO] Client 已连接到 Server
[2025-10-12 22:48:47][INFO] DatabaseManager::connect() called.

[2025-10-12 22:48:47][INFO] 已从数据库刷新用户列表用于登录对话框
[2025-10-12 22:48:52][INFO] 管理员登录成功，打开管理员窗口
[2025-10-12 22:48:52][INFO] Server 收到请求: GET_ALL_ACCOUNTS
[2025-10-12 22:48:52][INFO] Server 收到请求: GET_ALL_GOODS
[2025-10-12 22:48:52][INFO] Server SERgetAllGoods: dbManager ptr = 2132505459424, DTBisConnected=true
[2025-10-12 22:48:52][INFO] DTBloadAllGoods: this=000001F0833AFAE0 connection_=000001F0834335B0 Query="SELECT id, name, price, stock, category FROM good"

[2025-10-12 22:48:52][INFO] DTBloadAllGoods: mysql_num_rows = 6

[2025-10-12 22:48:52][INFO] Server SERgetAllGoods: 返回JSON内容: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":984},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114373},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","id":6,"name":"野火哈基米","price":66.4,"stock":278},{"category":"ji","id":7,"name":"ハチミ","price":78.0,"stock":199}]
[2025-10-12 22:48:52][INFO] Server SERgetAllGoods: 查询到 6 个商品
[2025-10-12 22:50:09][INFO] AdminWindow::onReturnToIdentitySelection called
[2025-10-12 22:50:09][INFO] 收到 AdminWindow::backRequested，返回登录界面
[2025-10-12 22:50:09][INFO] 已从数据库刷新用户列表用于登录对话框
[2025-10-12 22:50:18][INFO] 用户登录成功，手机号: 17708659389
[2025-10-12 22:50:18][INFO] Server 收到请求: GET_ALL_GOODS
[2025-10-12 22:50:18][INFO] Server SERgetAllGoods: dbManager ptr = 2132505459424, DTBisConnected=true
[2025-10-12 22:50:18][INFO] DTBloadAllGoods: this=000001F0833AFAE0 connection_=000001F0834335B0 Query="SELECT id, name, price, stock, category FROM good"

[2025-10-12 22:50:18][INFO] DTBloadAllGoods: mysql_num_rows = 6

[2025-10-12 22:50:18][INFO] Server SERgetAllGoods: 返回JSON内容: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":984},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114373},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","id":6,"name":"野火哈基米","price":66.4,"stock":278},{"category":"ji","id":7,"name":"ハチミ","price":78.0,"stock":199}]
[2025-10-12 22:50:18][INFO] Server SERgetAllGoods: 查询到 6 个商品
[2025-10-12 22:50:18][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 22:50:18][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 22:50:18][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":0.0,"is_converted":false,"items":[],"shipping_address":"","total_amount":0.0,"user_phone":"17708659389"}
[2025-10-12 22:50:18][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=0
[2025-10-12 22:50:18][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=0
[2025-10-12 22:50:19][INFO] Server 收到请求: GET_ALL_ACCOUNTS
[2025-10-12 23:01:31][INFO] 应用启动
[2025-10-12 23:01:31][INFO] Server: DatabaseManager 已连接。
[2025-10-12 23:01:31][INFO] 本地 Server 已启动 (127.0.0.1:8888)
[2025-10-12 23:01:31][INFO] Client 已连接到 Server
[2025-10-12 23:01:31][INFO] DatabaseManager::connect() called.

[2025-10-12 23:01:31][INFO] 已从数据库刷新用户列表用于登录对话框
[2025-10-12 23:01:42][INFO] 管理员登录成功，打开管理员窗口
[2025-10-12 23:01:42][INFO] Server 收到请求: GET_ALL_ACCOUNTS
[2025-10-12 23:01:42][INFO] Server 收到请求: GET_ALL_GOODS
[2025-10-12 23:01:42][INFO] Server SERgetAllGoods: dbManager ptr = 2017349453760, DTBisConnected=true
[2025-10-12 23:01:42][INFO] DTBloadAllGoods: this=000001D5B365C7C0 connection_=000001D5B36E28F0 Query="SELECT id, name, price, stock, category FROM good"

[2025-10-12 23:01:42][INFO] DTBloadAllGoods: mysql_num_rows = 6

[2025-10-12 23:01:42][INFO] Server SERgetAllGoods: 返回JSON内容: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":984},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114373},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","id":6,"name":"野火哈基米","price":66.4,"stock":278},{"category":"ji","id":7,"name":"ハチミ","price":78.0,"stock":199}]
[2025-10-12 23:01:42][INFO] Server SERgetAllGoods: 查询到 6 个商品
[2025-10-12 23:02:00][INFO] AdminWindow::onReturnToIdentitySelection called
[2025-10-12 23:02:00][INFO] 收到 AdminWindow::backRequested，返回登录界面
[2025-10-12 23:02:00][INFO] 已从数据库刷新用户列表用于登录对话框
[2025-10-12 23:02:13][INFO] 用户登录成功，手机号: 17708659389
[2025-10-12 23:02:13][INFO] Server 收到请求: GET_ALL_GOODS
[2025-10-12 23:02:13][INFO] Server SERgetAllGoods: dbManager ptr = 2017349453760, DTBisConnected=true
[2025-10-12 23:02:13][INFO] DTBloadAllGoods: this=000001D5B365C7C0 connection_=000001D5B36E28F0 Query="SELECT id, name, price, stock, category FROM good"

[2025-10-12 23:02:13][INFO] DTBloadAllGoods: mysql_num_rows = 6

[2025-10-12 23:02:13][INFO] Server SERgetAllGoods: 返回JSON内容: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":984},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114373},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","id":6,"name":"野火哈基米","price":66.4,"stock":278},{"category":"ji","id":7,"name":"ハチミ","price":78.0,"stock":199}]
[2025-10-12 23:02:13][INFO] Server SERgetAllGoods: 查询到 6 个商品
[2025-10-12 23:02:13][INFO] UserWindow::refreshCart: client connection active? true
[2025-10-12 23:02:13][INFO] CLTgetCartForUser: request for userPhone=17708659389
[2025-10-12 23:02:13][INFO] CLTgetCartForUser: raw response: {"cart_id":"c1760229692248_44fe7ebe71b0aabe","discount_amount":0.0,"discount_policy":"","final_amount":0.0,"is_converted":false,"items":[],"shipping_address":"","total_amount":0.0,"user_phone":"17708659389"}
[2025-10-12 23:02:13][INFO] CLTgetCartForUser: parsed cart_id=c1760229692248_44fe7ebe71b0aabe, items=0
[2025-10-12 23:02:13][INFO] UserWindow::refreshCart: got cart_id=c1760229692248_44fe7ebe71b0aabe, items=0
[2025-10-12 23:02:14][INFO] Server 收到请求: GET_ALL_ACCOUNTS
[2025-10-12 23:02:27][INFO] DatabaseManager::disconnect() called.

[2025-10-12 23:02:27][INFO] 应用退出

[2025-10-12 23:02:27][INFO] DatabaseManager::disconnect() called.

[2025-10-12 23:05:02][INFO] 应用启动
[2025-10-12 23:05:02][INFO] Server: DatabaseManager 已连接。
[2025-10-12 23:05:02][INFO] 本地 Server 已启动 (127.0.0.1:8888)
[2025-10-12 23:05:02][INFO] Client 已连接到 Server
[2025-10-12 23:05:02][INFO] DatabaseManager::connect() called.

[2025-10-12 23:05:02][INFO] 已从数据库刷新用户列表用于登录对话框
[2025-10-12 23:05:08][INFO] 管理员登录成功，打开管理员窗口
[2025-10-12 23:05:09][INFO] Server 收到请求: GET_ALL_ACCOUNTS
[2025-10-12 23:05:09][INFO] Server 收到请求: GET_ALL_GOODS
[2025-10-12 23:05:09][INFO] Server SERgetAllGoods: dbManager ptr = 1835314326752, DTBisConnected=true
[2025-10-12 23:05:09][INFO] DTBloadAllGoods: this=000001AB51422CE0 connection_=000001AB514C6570 Query="SELECT id, name, price, stock, category FROM good"

[2025-10-12 23:05:09][INFO] DTBloadAllGoods: mysql_num_rows = 6

[2025-10-12 23:05:09][INFO] Server SERgetAllGoods: 返回JSON内容: [{"category":"HYW","id":1,"name":"hyw","price":9.99,"stock":984},{"category":"umamusume","id":2,"name":"manbo","price":28.88,"stock":114373},{"category":"ji","id":4,"name":"dingdongji","price":8.11,"stock":416},{"category":"ji","id":5,"name":"ikun","price":2.5,"stock":151},{"category":"ji","id":6,"name":"野火哈基米","price":66.4,"stock":278},{"category":"ji","id":7,"name":"ハチミ","price":78.0,"stock":199}]
[2025-10-12 23:05:09][INFO] Server SERgetAllGoods: 查询到 6 个商品
[2025-10-12 23:05:19][INFO] AdminWindow::onReturnToIdentitySelection called
[2025-10-12 23:05:19][INFO] 收到 AdminWindow::backRequested，返回登录界面
[2025-10-12 23:05:19][INFO] 已从数据库刷新用户列表用于登录对话框
[2025-10-12 23:05:21][INFO] 用户取消登录，退出应用
[2025-10-12 23:05:21][INFO] DatabaseManager::disconnect() called.

[2025-10-12 23:05:21][INFO] DatabaseManager::disconnect() called.

